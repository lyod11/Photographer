package com.example.liudmula.photographer;

import android.graphics.Bitmap;
import android.net.Uri;
import android.os.Bundle;
import android.support.design.widget.FloatingActionButton;
import android.support.design.widget.Snackbar;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.support.v7.widget.Toolbar;
import android.view.View;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.ImageView;
import android.widget.Toast;

import com.google.android.gms.appindexing.Action;
import com.google.android.gms.appindexing.AppIndex;
import com.google.android.gms.appindexing.Thing;
import com.google.android.gms.common.api.GoogleApiClient;

import java.util.ArrayList;
import java.util.List;

public class MainActivity extends AppCompatActivity implements LoadImageTask.Listener, NetworkRequestTask.RequestListener {

    private ImageView mImageView;
    private Bitmap mBitmapTest;
    private RecyclerView mRecyclerView;
    private ImageAdapter mImageAdapter;
    private List<Photo> mPhotos = new ArrayList<>();


    private static final String SIMPLE_IMAGE_URL = "https://images.unsplash.com/photo-1452457807411-4979b707c5be?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&w=400&fit=max";
    private static final String SIMPLE_JSON_RESPONSE = "[{\"id\":\"pHnQ1nV4hk8\",\"created_at\":\"2017-01-18T06:03:02-05:00\",\"width\":5501,\"height\":3512,\"color\":\"#E4D0D8\",\"likes\":33,\"liked_by_user\":false,\"user\":{\"id\":\"9hSV3RwMg8k\",\"username\":\"siimlukka\",\"name\":\"Siim Lukka\",\"first_name\":\"Siim\",\"last_name\":\"Lukka\",\"portfolio_url\":null,\"bio\":\"\",\"location\":null,\"total_likes\":0,\"total_photos\":4,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/profile-fb-1484647095-8eb898c682e7.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=eed03eb1058ffdab9b81c7b553fe66c2\",\"medium\":\"https://images.unsplash.com/profile-fb-1484647095-8eb898c682e7.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=8806258bbbfdee683225d70fde07265c\",\"large\":\"https://images.unsplash.com/profile-fb-1484647095-8eb898c682e7.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=454cf99f7da2a13536c65492bf29235e\"},\"links\":{\"self\":\"https://api.unsplash.com/users/siimlukka\",\"html\":\"http://unsplash.com/@siimlukka\",\"photos\":\"https://api.unsplash.com/users/siimlukka/photos\",\"likes\":\"https://api.unsplash.com/users/siimlukka/likes\",\"portfolio\":\"https://api.unsplash.com/users/siimlukka/portfolio\",\"following\":\"https://api.unsplash.com/users/siimlukka/following\",\"followers\":\"https://api.unsplash.com/users/siimlukka/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484737359300-c8242155edf9\",\"full\":\"https://images.unsplash.com/photo-1484737359300-c8242155edf9?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=bf9dacc35bd0411a18189330b10c3dc0\",\"regular\":\"https://images.unsplash.com/photo-1484737359300-c8242155edf9?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=12858f396a740ae27ff8f4c83f4242ab\",\"small\":\"https://images.unsplash.com/photo-1484737359300-c8242155edf9?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=510e66d3e6000f9e82954a473a98d6f2\",\"thumb\":\"https://images.unsplash.com/photo-1484737359300-c8242155edf9?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=d2aae7a2ba29420eeca77f253df135d0\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/pHnQ1nV4hk8\",\"html\":\"http://unsplash.com/photos/pHnQ1nV4hk8\",\"download\":\"http://unsplash.com/photos/pHnQ1nV4hk8/download\",\"download_location\":\"https://api.unsplash.com/photos/pHnQ1nV4hk8/download\"}},{\"id\":\"QRqzT0405CE\",\"created_at\":\"2017-01-18T06:01:57-05:00\",\"width\":3674,\"height\":2449,\"color\":\"#F1EDF5\",\"likes\":27,\"liked_by_user\":false,\"user\":{\"id\":\"9hSV3RwMg8k\",\"username\":\"siimlukka\",\"name\":\"Siim Lukka\",\"first_name\":\"Siim\",\"last_name\":\"Lukka\",\"portfolio_url\":null,\"bio\":\"\",\"location\":null,\"total_likes\":0,\"total_photos\":4,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/profile-fb-1484647095-8eb898c682e7.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=eed03eb1058ffdab9b81c7b553fe66c2\",\"medium\":\"https://images.unsplash.com/profile-fb-1484647095-8eb898c682e7.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=8806258bbbfdee683225d70fde07265c\",\"large\":\"https://images.unsplash.com/profile-fb-1484647095-8eb898c682e7.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=454cf99f7da2a13536c65492bf29235e\"},\"links\":{\"self\":\"https://api.unsplash.com/users/siimlukka\",\"html\":\"http://unsplash.com/@siimlukka\",\"photos\":\"https://api.unsplash.com/users/siimlukka/photos\",\"likes\":\"https://api.unsplash.com/users/siimlukka/likes\",\"portfolio\":\"https://api.unsplash.com/users/siimlukka/portfolio\",\"following\":\"https://api.unsplash.com/users/siimlukka/following\",\"followers\":\"https://api.unsplash.com/users/siimlukka/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484737290073-3189e1fbc6d3\",\"full\":\"https://images.unsplash.com/photo-1484737290073-3189e1fbc6d3?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=07e093737d877ec80ab61e3e2f17deba\",\"regular\":\"https://images.unsplash.com/photo-1484737290073-3189e1fbc6d3?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=af2fbd56556b4c22eb43283b374b1d06\",\"small\":\"https://images.unsplash.com/photo-1484737290073-3189e1fbc6d3?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=88e2207e6251acba2c74ba5b833fa2dc\",\"thumb\":\"https://images.unsplash.com/photo-1484737290073-3189e1fbc6d3?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=89f0f09a8f693548c9a5639bc2a1d73a\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/QRqzT0405CE\",\"html\":\"http://unsplash.com/photos/QRqzT0405CE\",\"download\":\"http://unsplash.com/photos/QRqzT0405CE/download\",\"download_location\":\"https://api.unsplash.com/photos/QRqzT0405CE/download\"}},{\"id\":\"TLMfkChQ9Sk\",\"created_at\":\"2017-01-18T05:54:09-05:00\",\"width\":5185,\"height\":3456,\"color\":\"#F19C67\",\"likes\":16,\"liked_by_user\":false,\"user\":{\"id\":\"Yp8oj_M2Bcg\",\"username\":\"emuse\",\"name\":\"James Sutton\",\"first_name\":\"James\",\"last_name\":\"Sutton\",\"portfolio_url\":\"https://www.paypal.me/emuseshutter\",\"bio\":\"Husband, father and carer with a keen interest in photography.  I enjoy sharing my images with the community.  If you like my work then please consider making a donation (link above).\",\"location\":\"Letchworth Garden City\",\"total_likes\":24,\"total_photos\":36,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/profile-1479135019550-3397929155b7?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=c419c7922be07138af770ff407fd0a8a\",\"medium\":\"https://images.unsplash.com/profile-1479135019550-3397929155b7?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=2ad31b15f8976cf8213c484344e87dc3\",\"large\":\"https://images.unsplash.com/profile-1479135019550-3397929155b7?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=f81f9ab775b0b8bedf1eea52615f536f\"},\"links\":{\"self\":\"https://api.unsplash.com/users/emuse\",\"html\":\"http://unsplash.com/@emuse\",\"photos\":\"https://api.unsplash.com/users/emuse/photos\",\"likes\":\"https://api.unsplash.com/users/emuse/likes\",\"portfolio\":\"https://api.unsplash.com/users/emuse/portfolio\",\"following\":\"https://api.unsplash.com/users/emuse/following\",\"followers\":\"https://api.unsplash.com/users/emuse/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484736797760-ab28d1bb648b\",\"full\":\"https://images.unsplash.com/photo-1484736797760-ab28d1bb648b?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=6dd1c7c8319aed754c678a81cdeeb293\",\"regular\":\"https://images.unsplash.com/photo-1484736797760-ab28d1bb648b?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=be5c14471af9d220a32ed1341866736a\",\"small\":\"https://images.unsplash.com/photo-1484736797760-ab28d1bb648b?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=afbc91d7de04e54c76ac0a7289b3f93a\",\"thumb\":\"https://images.unsplash.com/photo-1484736797760-ab28d1bb648b?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=7ff354a169f510a709211f3eb1533f0e\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/TLMfkChQ9Sk\",\"html\":\"http://unsplash.com/photos/TLMfkChQ9Sk\",\"download\":\"http://unsplash.com/photos/TLMfkChQ9Sk/download\",\"download_location\":\"https://api.unsplash.com/photos/TLMfkChQ9Sk/download\"}},{\"id\":\"Sz0kMDeDUc0\",\"created_at\":\"2017-01-18T05:16:04-05:00\",\"width\":6000,\"height\":4000,\"color\":\"#FE8830\",\"likes\":50,\"liked_by_user\":false,\"user\":{\"id\":\"0kHWOEiSsEk\",\"username\":\"sumo\",\"name\":\"PAUL SMITH\",\"first_name\":\"PAUL\",\"last_name\":\"SMITH\",\"portfolio_url\":null,\"bio\":\"\",\"location\":null,\"total_likes\":1,\"total_photos\":3,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/placeholder-avatars/extra-large.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=0ad68f44c4725d5a3fda019bab9d3edc\",\"medium\":\"https://images.unsplash.com/placeholder-avatars/extra-large.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=356bd4b76a3d4eb97d63f45b818dd358\",\"large\":\"https://images.unsplash.com/placeholder-avatars/extra-large.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=ee8bbf5fb8d6e43aaaa238feae2fe90d\"},\"links\":{\"self\":\"https://api.unsplash.com/users/sumo\",\"html\":\"http://unsplash.com/@sumo\",\"photos\":\"https://api.unsplash.com/users/sumo/photos\",\"likes\":\"https://api.unsplash.com/users/sumo/likes\",\"portfolio\":\"https://api.unsplash.com/users/sumo/portfolio\",\"following\":\"https://api.unsplash.com/users/sumo/following\",\"followers\":\"https://api.unsplash.com/users/sumo/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484734278752-212d8c88a568\",\"full\":\"https://images.unsplash.com/photo-1484734278752-212d8c88a568?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=1e5d399f68ff62c2d4569d9bb7f3aad1\",\"regular\":\"https://images.unsplash.com/photo-1484734278752-212d8c88a568?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=10a02d6fb160ca1f7d1975e9e95c85f5\",\"small\":\"https://images.unsplash.com/photo-1484734278752-212d8c88a568?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=219fc1f9ad04aad79fc2a988c1faf5bf\",\"thumb\":\"https://images.unsplash.com/photo-1484734278752-212d8c88a568?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=4889cd34891e854b6beb576b39876471\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/Sz0kMDeDUc0\",\"html\":\"http://unsplash.com/photos/Sz0kMDeDUc0\",\"download\":\"http://unsplash.com/photos/Sz0kMDeDUc0/download\",\"download_location\":\"https://api.unsplash.com/photos/Sz0kMDeDUc0/download\"}},{\"id\":\"gAPXLS1LRVE\",\"created_at\":\"2017-01-18T04:51:32-05:00\",\"width\":5184,\"height\":3456,\"color\":\"#C9C6C2\",\"likes\":26,\"liked_by_user\":false,\"user\":{\"id\":\"Lk6-eGPTbJE\",\"username\":\"o_l_l_a\",\"name\":\"Olya Kuzovkina\",\"first_name\":\"Olya\",\"last_name\":\"Kuzovkina\",\"portfolio_url\":null,\"bio\":\"\",\"location\":\"Kyiv\",\"total_likes\":3,\"total_photos\":3,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/profile-1484733460542-9653d0439bd9?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=56c2961399c63902c7ffff85ba32da3e\",\"medium\":\"https://images.unsplash.com/profile-1484733460542-9653d0439bd9?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=a3c3a195aad61938091afc9cde695897\",\"large\":\"https://images.unsplash.com/profile-1484733460542-9653d0439bd9?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=69cbca757f91ec0f989b8d6d45c1f485\"},\"links\":{\"self\":\"https://api.unsplash.com/users/o_l_l_a\",\"html\":\"http://unsplash.com/@o_l_l_a\",\"photos\":\"https://api.unsplash.com/users/o_l_l_a/photos\",\"likes\":\"https://api.unsplash.com/users/o_l_l_a/likes\",\"portfolio\":\"https://api.unsplash.com/users/o_l_l_a/portfolio\",\"following\":\"https://api.unsplash.com/users/o_l_l_a/following\",\"followers\":\"https://api.unsplash.com/users/o_l_l_a/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484733544471-3abf5846a4ff\",\"full\":\"https://images.unsplash.com/photo-1484733544471-3abf5846a4ff?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=5299cdd248cd467b67b2dac0a2fc7bd8\",\"regular\":\"https://images.unsplash.com/photo-1484733544471-3abf5846a4ff?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=24b2596ac42fe6f2a6130dd1f94537b3\",\"small\":\"https://images.unsplash.com/photo-1484733544471-3abf5846a4ff?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=8f9bf8950739e40176588a1c322da9b3\",\"thumb\":\"https://images.unsplash.com/photo-1484733544471-3abf5846a4ff?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=093bed92ed345f743611daa0400161dd\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/gAPXLS1LRVE\",\"html\":\"http://unsplash.com/photos/gAPXLS1LRVE\",\"download\":\"http://unsplash.com/photos/gAPXLS1LRVE/download\",\"download_location\":\"https://api.unsplash.com/photos/gAPXLS1LRVE/download\"}},{\"id\":\"3fVrRv9j8Jw\",\"created_at\":\"2017-01-18T04:44:23-05:00\",\"width\":4896,\"height\":3264,\"color\":\"#312D24\",\"likes\":17,\"liked_by_user\":false,\"user\":{\"id\":\"ScQ4XdxP97o\",\"username\":\"igorcancarevic\",\"name\":\"Igor ÄŒanÄ\u008DareviÄ‡\",\"first_name\":\"Igor\",\"last_name\":\"ÄŒanÄ\u008DareviÄ‡\",\"portfolio_url\":\"http://www.igorcancarevic.com\",\"bio\":\"Learning front-end web development. \\r\\nOcasionally shooting some photos with my iPhone 6s+.\\r\\nContact: igor.cancarevic@me.com\",\"location\":\"Rijeka, Croatia\",\"total_likes\":6,\"total_photos\":22,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/profile-fb-1459876228-7a4ae03c373a.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=f5b4d5cd866f0830263099d339b37430\",\"medium\":\"https://images.unsplash.com/profile-fb-1459876228-7a4ae03c373a.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=610b441f1ae0f848c904eae822dbc3cf\",\"large\":\"https://images.unsplash.com/profile-fb-1459876228-7a4ae03c373a.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=994b9f544c63b2d79276264c63d1647d\"},\"links\":{\"self\":\"https://api.unsplash.com/users/igorcancarevic\",\"html\":\"http://unsplash.com/@igorcancarevic\",\"photos\":\"https://api.unsplash.com/users/igorcancarevic/photos\",\"likes\":\"https://api.unsplash.com/users/igorcancarevic/likes\",\"portfolio\":\"https://api.unsplash.com/users/igorcancarevic/portfolio\",\"following\":\"https://api.unsplash.com/users/igorcancarevic/following\",\"followers\":\"https://api.unsplash.com/users/igorcancarevic/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484732311263-d8c87b4d2942\",\"full\":\"https://images.unsplash.com/photo-1484732311263-d8c87b4d2942?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=95b7b03053d6e745ff077d4ec42ce089\",\"regular\":\"https://images.unsplash.com/photo-1484732311263-d8c87b4d2942?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=61590847d7f91b4e4c9d91ba38476176\",\"small\":\"https://images.unsplash.com/photo-1484732311263-d8c87b4d2942?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=4b3f03ec9756e348d5daa163a8756fbe\",\"thumb\":\"https://images.unsplash.com/photo-1484732311263-d8c87b4d2942?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=34d29c4ef3e00510888d1cf6d33ca12f\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/3fVrRv9j8Jw\",\"html\":\"http://unsplash.com/photos/3fVrRv9j8Jw\",\"download\":\"http://unsplash.com/photos/3fVrRv9j8Jw/download\",\"download_location\":\"https://api.unsplash.com/photos/3fVrRv9j8Jw/download\"}},{\"id\":\"FTuScTOoeB0\",\"created_at\":\"2017-01-18T04:38:02-05:00\",\"width\":4896,\"height\":3264,\"color\":\"#DAECE9\",\"likes\":45,\"liked_by_user\":false,\"user\":{\"id\":\"ScQ4XdxP97o\",\"username\":\"igorcancarevic\",\"name\":\"Igor ÄŒanÄ\u008DareviÄ‡\",\"first_name\":\"Igor\",\"last_name\":\"ÄŒanÄ\u008DareviÄ‡\",\"portfolio_url\":\"http://www.igorcancarevic.com\",\"bio\":\"Learning front-end web development. \\r\\nOcasionally shooting some photos with my iPhone 6s+.\\r\\nContact: igor.cancarevic@me.com\",\"location\":\"Rijeka, Croatia\",\"total_likes\":6,\"total_photos\":22,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/profile-fb-1459876228-7a4ae03c373a.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=f5b4d5cd866f0830263099d339b37430\",\"medium\":\"https://images.unsplash.com/profile-fb-1459876228-7a4ae03c373a.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=610b441f1ae0f848c904eae822dbc3cf\",\"large\":\"https://images.unsplash.com/profile-fb-1459876228-7a4ae03c373a.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=994b9f544c63b2d79276264c63d1647d\"},\"links\":{\"self\":\"https://api.unsplash.com/users/igorcancarevic\",\"html\":\"http://unsplash.com/@igorcancarevic\",\"photos\":\"https://api.unsplash.com/users/igorcancarevic/photos\",\"likes\":\"https://api.unsplash.com/users/igorcancarevic/likes\",\"portfolio\":\"https://api.unsplash.com/users/igorcancarevic/portfolio\",\"following\":\"https://api.unsplash.com/users/igorcancarevic/following\",\"followers\":\"https://api.unsplash.com/users/igorcancarevic/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484731781032-e32ab5c3f6da\",\"full\":\"https://images.unsplash.com/photo-1484731781032-e32ab5c3f6da?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=bd6c1b8f28b850d22483a29ae80d2bd1\",\"regular\":\"https://images.unsplash.com/photo-1484731781032-e32ab5c3f6da?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=539919826e439fd7fd1b9cb40daaca1a\",\"small\":\"https://images.unsplash.com/photo-1484731781032-e32ab5c3f6da?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=efd8850a1c91d64627b92302529a4eae\",\"thumb\":\"https://images.unsplash.com/photo-1484731781032-e32ab5c3f6da?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=0ac206d9d27fdc93187966d79ddde0c8\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/FTuScTOoeB0\",\"html\":\"http://unsplash.com/photos/FTuScTOoeB0\",\"download\":\"http://unsplash.com/photos/FTuScTOoeB0/download\",\"download_location\":\"https://api.unsplash.com/photos/FTuScTOoeB0/download\"}},{\"id\":\"00IKlCdLQXI\",\"created_at\":\"2017-01-18T04:28:30-05:00\",\"width\":6000,\"height\":4000,\"color\":\"#373223\",\"likes\":34,\"liked_by_user\":false,\"user\":{\"id\":\"H2gPnCg6Cak\",\"username\":\"przemyslaw_reinfus\",\"name\":\"Przemyslaw Reinfus\",\"first_name\":\"Przemyslaw\",\"last_name\":\"Reinfus\",\"portfolio_url\":\"https://www.shutterstock.com/pl/g/przemyslaw+reinfus\",\"bio\":\"My passion in nature and abstract photography. I am microstock photographer. Please visit my site for more pictures. You can also watch my other pictures on this website: https://500px.com/przemyslaw_reinfus\",\"location\":\"Poland\",\"total_likes\":0,\"total_photos\":5,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/profile-1484649577904-a8b419a9e988?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=36e5b7ff355cc054cc06dcfbb6a9aa0d\",\"medium\":\"https://images.unsplash.com/profile-1484649577904-a8b419a9e988?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=558ac3356a370553aa20c81d79e5c08d\",\"large\":\"https://images.unsplash.com/profile-1484649577904-a8b419a9e988?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=f6a5ebc054fa6ce84aaa7ddd61a28a03\"},\"links\":{\"self\":\"https://api.unsplash.com/users/przemyslaw_reinfus\",\"html\":\"http://unsplash.com/@przemyslaw_reinfus\",\"photos\":\"https://api.unsplash.com/users/przemyslaw_reinfus/photos\",\"likes\":\"https://api.unsplash.com/users/przemyslaw_reinfus/likes\",\"portfolio\":\"https://api.unsplash.com/users/przemyslaw_reinfus/portfolio\",\"following\":\"https://api.unsplash.com/users/przemyslaw_reinfus/following\",\"followers\":\"https://api.unsplash.com/users/przemyslaw_reinfus/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484731598335-0d1cd8142597\",\"full\":\"https://images.unsplash.com/photo-1484731598335-0d1cd8142597?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=6ee00386f92f28206c45cfe17a72bf80\",\"regular\":\"https://images.unsplash.com/photo-1484731598335-0d1cd8142597?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=9190a624167704a9a3f27c20265c7aac\",\"small\":\"https://images.unsplash.com/photo-1484731598335-0d1cd8142597?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=1cdc341287f59526337129b76563ba3f\",\"thumb\":\"https://images.unsplash.com/photo-1484731598335-0d1cd8142597?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=2abb8350ecbc8dc02baeff844025a483\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/00IKlCdLQXI\",\"html\":\"http://unsplash.com/photos/00IKlCdLQXI\",\"download\":\"http://unsplash.com/photos/00IKlCdLQXI/download\",\"download_location\":\"https://api.unsplash.com/photos/00IKlCdLQXI/download\"}},{\"id\":\"KcW-vf8y62Q\",\"created_at\":\"2017-01-18T04:04:07-05:00\",\"width\":6000,\"height\":4000,\"color\":\"#C53F22\",\"likes\":30,\"liked_by_user\":false,\"user\":{\"id\":\"0kHWOEiSsEk\",\"username\":\"sumo\",\"name\":\"PAUL SMITH\",\"first_name\":\"PAUL\",\"last_name\":\"SMITH\",\"portfolio_url\":null,\"bio\":\"\",\"location\":null,\"total_likes\":1,\"total_photos\":3,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/placeholder-avatars/extra-large.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=0ad68f44c4725d5a3fda019bab9d3edc\",\"medium\":\"https://images.unsplash.com/placeholder-avatars/extra-large.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=356bd4b76a3d4eb97d63f45b818dd358\",\"large\":\"https://images.unsplash.com/placeholder-avatars/extra-large.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=ee8bbf5fb8d6e43aaaa238feae2fe90d\"},\"links\":{\"self\":\"https://api.unsplash.com/users/sumo\",\"html\":\"http://unsplash.com/@sumo\",\"photos\":\"https://api.unsplash.com/users/sumo/photos\",\"likes\":\"https://api.unsplash.com/users/sumo/likes\",\"portfolio\":\"https://api.unsplash.com/users/sumo/portfolio\",\"following\":\"https://api.unsplash.com/users/sumo/following\",\"followers\":\"https://api.unsplash.com/users/sumo/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484729864416-3bf9c94e5420\",\"full\":\"https://images.unsplash.com/photo-1484729864416-3bf9c94e5420?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=f96ebc230ad3bebfc7a2568922635f15\",\"regular\":\"https://images.unsplash.com/photo-1484729864416-3bf9c94e5420?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=7f91aa04bf86b13bc54c7d934c4dc305\",\"small\":\"https://images.unsplash.com/photo-1484729864416-3bf9c94e5420?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=ad9bf14dbaf64ae25f1f2db4f55492a0\",\"thumb\":\"https://images.unsplash.com/photo-1484729864416-3bf9c94e5420?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=42e264f68c06591cc706a2d112f0d89a\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/KcW-vf8y62Q\",\"html\":\"http://unsplash.com/photos/KcW-vf8y62Q\",\"download\":\"http://unsplash.com/photos/KcW-vf8y62Q/download\",\"download_location\":\"https://api.unsplash.com/photos/KcW-vf8y62Q/download\"}},{\"id\":\"E328aPWyD_k\",\"created_at\":\"2017-01-18T03:51:48-05:00\",\"width\":3788,\"height\":2683,\"color\":\"#F0D169\",\"likes\":35,\"liked_by_user\":false,\"user\":{\"id\":\"Cc7jcoe10wo\",\"username\":\"ismailniyaz\",\"name\":\"Ismail Niyax\",\"first_name\":\"Ismail\",\"last_name\":\"Niyax\",\"portfolio_url\":null,\"bio\":\"\",\"location\":null,\"total_likes\":0,\"total_photos\":1,\"total_collections\":0,\"profile_image\":{\"small\":\"https://images.unsplash.com/profile-fb-1484727502-6afa270b3446.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=32\\u0026w=32\\u0026s=979c4133778ae08b66e9d46168b77998\",\"medium\":\"https://images.unsplash.com/profile-fb-1484727502-6afa270b3446.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=64\\u0026w=64\\u0026s=f01f71244a9bdc09ac071f6b3c5671ca\",\"large\":\"https://images.unsplash.com/profile-fb-1484727502-6afa270b3446.jpg?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=faces\\u0026cs=tinysrgb\\u0026fit=crop\\u0026h=128\\u0026w=128\\u0026s=734990dbc9189f84c1e4a6759be3615b\"},\"links\":{\"self\":\"https://api.unsplash.com/users/ismailniyaz\",\"html\":\"http://unsplash.com/@ismailniyaz\",\"photos\":\"https://api.unsplash.com/users/ismailniyaz/photos\",\"likes\":\"https://api.unsplash.com/users/ismailniyaz/likes\",\"portfolio\":\"https://api.unsplash.com/users/ismailniyaz/portfolio\",\"following\":\"https://api.unsplash.com/users/ismailniyaz/following\",\"followers\":\"https://api.unsplash.com/users/ismailniyaz/followers\"}},\"current_user_collections\":[],\"urls\":{\"raw\":\"https://images.unsplash.com/photo-1484729473434-74a3e2353395\",\"full\":\"https://images.unsplash.com/photo-1484729473434-74a3e2353395?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026s=7eef656bbd9ffc76a73cb7d973677642\",\"regular\":\"https://images.unsplash.com/photo-1484729473434-74a3e2353395?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=1080\\u0026fit=max\\u0026s=1dfadd3b551fd7952a040df1aad743d0\",\"small\":\"https://images.unsplash.com/photo-1484729473434-74a3e2353395?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=400\\u0026fit=max\\u0026s=da0b584b7b9670d4b03f1f6021d71ce9\",\"thumb\":\"https://images.unsplash.com/photo-1484729473434-74a3e2353395?ixlib=rb-0.3.5\\u0026q=80\\u0026fm=jpg\\u0026crop=entropy\\u0026cs=tinysrgb\\u0026w=200\\u0026fit=max\\u0026s=1a902150629c9fc9af1858d4237d2a58\"},\"categories\":[],\"links\":{\"self\":\"https://api.unsplash.com/photos/E328aPWyD_k\",\"html\":\"http://unsplash.com/photos/E328aPWyD_k\",\"download\":\"http://unsplash.com/photos/E328aPWyD_k/download\",\"download_location\":\"https://api.unsplash.com/photos/E328aPWyD_k/download\"}}]";
    private static final String LIST_PHOTOS_URL = "https://api.unsplash.com/photos/?client_id=40a70581b73ac9754c7e45d1312acf3c176f59c638863ee599c448d649dc85d3";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);


        //  new LoadImageTask(this).execute(SIMPLE_IMAGE_URL);
        new NetworkRequestTask(this).execute(LIST_PHOTOS_URL);


        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);
        fab.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)
                        .setAction("Action", null).show();
            }
        });

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.menu_main, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Handle action bar item clicks here. The action bar will
        // automatically handle clicks on the Home/Up button, so long
        // as you specify a parent activity in AndroidManifest.xml.
        int id = item.getItemId();

        //noinspection SimplifiableIfStatement
        if (id == R.id.action_settings) {
            return true;
        }

        return super.onOptionsItemSelected(item);
    }

    @Override
    public void onImageLoaded(Bitmap bitmap) {
        //mImageView.setImageBitmap(bitmap);
        mBitmapTest = bitmap;
        mImageView = (ImageView) findViewById(R.id.iv_card_row);

        ArrayList<Photo> photos = new ArrayList<>();

        photos.add(new Photo("username1", mBitmapTest));
        photos.add(new Photo("username2", mBitmapTest));
        photos.add(new Photo("username3", mBitmapTest));
        photos.add(new Photo("username4", mBitmapTest));
        photos.add(new Photo("username5", mBitmapTest));


        mRecyclerView = (RecyclerView) findViewById(R.id.recycler_view);
        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getApplicationContext());
        mRecyclerView.setLayoutManager(layoutManager);
        mImageAdapter = new ImageAdapter(photos);
        mRecyclerView.setAdapter(mImageAdapter);

    }

    @Override
    public void onError() {
        Toast.makeText(this, "Error Loading image", Toast.LENGTH_LONG).show();
    }


    @Override
    public void onRequestSuccessful(List<Photo> photos) {
        mPhotos = photos;
    }

    @Override
    public void onRequestError() {
        Toast.makeText(this, "Request error", Toast.LENGTH_LONG).show();
    }
}
